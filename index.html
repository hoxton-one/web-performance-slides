<!doctype HTML>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=1024" />
	<meta name="apple-mobile-web-app-capable" content="yes" />
	<title>10 Web App Performance Pitfalls</title>

	<link href="css/screen.css" media="screen" rel="stylesheet" type="text/css" />
	<link href='https://fonts.googleapis.com/css?family=Roboto:400,300' rel='stylesheet' type='text/css'>
</head>

<body>


<div id="impress">
	
	<div class="step title" data-x="-1500" data-y="0" >
		10 Web App Performance Pitfalls
		<br/>
		<br/>
		@hoxton-one
	</div>

	<div class="step title" data-x="0" data-y="0" >
		<img height="500px" src="images/gmail.jpg">
	</div>

	<div class="step title" data-x="1500" data-y="0" >
		<img height="500px" src="images/cloud9.jpg">
	</div>

	<!-- STEP: Overview -->
	<div class="step overview" data-x="3000" data-y="0" data-rotate-x="40" >
		<div class="container">
			<ul class="js">
				<li class="head">JS</li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
			</ul>
			<ul class="css">
				<li class="head">CSS</li>
				<li></li>
				<li></li>
			</ul>
			<ul class="html">
				<li class="head">HTML</li>
				<li></li>
			</ul>
		</div>
	</div>

	<!-- Convenience Methods and shims -->
	<div class="step js title" data-x="-1500" data-y="1500">
		Avoid convenience methods <br />(especially when using shims)
	</div>
	<div class="step js example" data-x="0" data-y="1500">
<pre><code>
<span class="comment">// slow</span>
longArray.forEach( doSomething );

<span class="comment">// fast</span>
var length = longArray.length;
for( var i = 0; i < length; i++ ) {
  doSomething( longArray[ i ] );
}
</code></pre>
	</div>
	<div class="step js result" data-x="1500" data-y="1500">
		<ul class="bar-chart">
			<li>
				<div class="bar">
					<div class="percent">100%</div>
					<div class="bg" style="height: 100%"></div>
				</div>
				<label>for loop</label>
			</li>
			<li class="low-value">
				<div class="bar">
					<div class="percent">45%</div>
					<div class="bg" style="height: 45%"></div>
				</div>
				<label>forEach</label>
			</li>
			<li class="low-value">
				<div class="bar">
					<div class="percent">15%</div>
					<div class="bg" style="height: 15%"></div>
				</div>
				<label>forEach shim</label>
			</li>
		</ul>
	</div>


	<!-- Component Lifecycle -->
	<div class="step js title" data-x="-1500" data-y="3000">
		Actively manage the component lifecycle
	</div>

	<div class="step title" data-x="0" data-y="3000" >
		<img height="500px" src="images/the-merchant.jpg">
	</div>

	<div class="step js example" data-x="1500" data-y="3000">
<code>

<span class="comment">// when widget is first needed</span>
var widget = new Widget()

widget.init = function() {
	// create connection
}

<span class="comment">// when widget is hidden</span>
widget.hide = function() {
	// pause connection
}

<span class="comment">// when widget is shown</span>
widget.show = function() {
	// resume connection
}
</code>
	</div>

	<!-- Energetic Templating -->
	<div class="step js title" data-x="-1500" data-y="4500">
		Energetic Templating
	</div>
	<div class="step js example" data-x="0" data-y="4500">
<code>
<span class="comment">// Repeats ( Angular ) </span>
scope.listBoundToNgRepeat = serverFetch()

<span class="comment">// Markup choice ( Angular ) </span>
<span>{{ expression }}</span>

</code>
	</div>

	<!-- Dirty Checking -->
	<div class="step js title" data-x="-1500" data-y="6000">
		Dirty Checking
	</div>
	<div class="step js example" data-x="0" data-y="6000">
<code>

<span class="comment">// Inline function calls</span>
&lt;span ngBind="computeContent()"&gt;&lt;/span&gt;

<span class="comment">// Polling</span>
setInterval( function() {
	//check if something needs to be done
}, 100 );

</code>
	</div>
	<div class="step js quote" data-x="1500" data-y="6000">
		<div style="width:750px; font-size: 20px" class="quote">
			"So the real question is this: can you do 2000 comparisons in 50 ms even on slow browsers? That means that you have 25 µs per comparison. I believe this is not an issue even on slow browsers these days. <b>There is a caveat: the comparisons need to be simple to fit into 25 µs.</b>"
		</div>
		<div style="width:750px; font-size: 20px; text-align: right" class="quote-by">
			Misko Hevery
		</div>
	</div>


	<!-- WebWorkers - Overhead vs Benefit -->
	<div class="step js title" data-x="-1500" data-y="7500">
		WebWorkers - Overhead vs Benefit
	</div>
	<div class="step js example" data-x="0" data-y="7500">
		<img src="images/worker_perf.png">
		blog.scottlogic.com
	</div>

	<!-- Work with your compiler, not against it -->
	<div class="step js title" data-x="-1500" data-y="9000">
		Work with your compiler, not against it
	</div>
	<div class="step js example" data-x="0" data-y="9000">
<code>
<span class="comment">// Try Catch</span>
try {
	//do something
} catch( e ) {
	// error occured
}

<span class="comment">// Accessing items that is out of index bounds</span>
var anArray = [ 'apple', 'oranges', 'kiwis' ];
anArray[ 10 ];

</code>
	</div>
	<div class="step js result" data-x="1500" data-y="9000">
		<ul class="bar-chart">
			<li>
				<div class="bar">
					<div class="percent">12,631</div>
					<div class="bg" style="height: 100%"></div>
				</div>
				<label>Without Try Catch</label>
			</li>
			<li class="low-value">
				<div class="bar">
					<div class="percent">6,589</div>
					<div class="bg" style="height: 52%"></div>
				</div>
				<label>With Try Catch</label>
			</li>
		</ul>
	</div>

	<!-- recycle your garbage -->
	<div class="step js title" data-x="-1500" data-y="10500">
		Recycle your garbage
	</div>
	<div class="step js example" data-x="0" data-y="10500">
<code>
<span class="comment">// Don't create instances for one off functions</span>

for( var i=0; i < length; i++ ) {
	( new Calculator() ).add( i, 1 ); 
}

<span class="comment">// Recycle objects</span>

for( var i=0; i < length; i++ ) {
	sterni = new Bottle(); //instead Bottles.get();
	sterni.fill();
	sterni.drink();
	sterni.destroy(); //instead sterni.recycle();
}

</code>
	</div>
	<div class="step js result" data-x="1500" data-y="10500">
		<img height="100px" style="margin-bottom: 50px" src="images/gc-active.jpg">
		<img height="100px" src="images/gc-inactive.jpg">
	</div>

	<!-- CSS composition vs render layer -->
	<div class="step css title" data-x="3000" data-y="1500">
		CSS composition vs Render layer
	</div>
	<div class="step css result" data-x="4500" data-y="1500">
		<img src="images/full-render.jpg">
		http://csstriggers.com/
	</div>

	<!-- Don't forget that css runs code too -->
	<div class="step css title" data-x="3000" data-y="3000">
		<div>Don't forget that css runs code too</div>
		<a style="font-size: 20px" href="http://zunostudios.com/demos/css32014-demos/filters.html" target="_blank">CSS3 Effects CPU<a>
	</div>
	<div class="step css example" data-x="4500" data-y="3000">
<code>
<span class="comment">// This doesn't go down well in older IE's</span>

.class:hover {
	//css rules
}

<span class="comment">// This leaked memory in  versions of chrome</span>

.class {
	 background: linear-gradient( ... );
}
</code>
	</div>
	<!-- Batch DOM updates -->
	<div class="step html title" data-x="7500" data-y="1500">
		Batch DOM updates
	</div>
	<div class="step html example" data-x="9000" data-y="1500">
<code>
	detachedElement = $( elementToModify ).detach();
	mofifyElement( detachedElement );
	parentElement.append( detachedElement );
</code>
</code>
	</div>

 	<div class="step finished" data-x="4500" data-y="6000" data-z="12000">
		
		http://jsperf.com/for-loop-vs-foreach-vs-foreach-shim/5
		<br/>
		https://developers.google.com/web/fundamentals/performance/rendering/stick-to-compositor-only-properties-and-manage-layer-count
		<br/>
		http://csstriggers.com/


	</div>
</div>

<script src="bower_components/impress.js/js/impress.js"></script>
<script>impress().init();</script>
</body>
</html>